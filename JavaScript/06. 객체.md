6. 객체

```
{
	키:값
	키:값
	키:값
}
```

```
객체이름.속성이름
product.name
```

```
객체이름['속성이름']
product.['name']
```

- 속성 : 객체가 가진 값을 의미한다.
- 메서드 : 객체가 가진 속성 중에 함수 자료형인 것을 의미한다.

- JSON(JavaScript Object Notation) : 자바스크립트 객체 표현 방식을 사용해 데이터를 표현하는 방법을 의미한다. 데이터를 표현하는 방법에는 JSON 이외에도 CSV, XML등이 있다.



6-1. 객체 개요

```javascript
alert(typeof([]));
```

- object를 출력한다. 이 object가 이 장의 주체인 객체이다. 

- 배열은 요소에 접근할 때 인덱스를 사용하지만, 객체는 키를 사용한다.

```javascript
var product = {
	name : 'ABC',
	value :'10000',
	made : 'korea'
};
```

- product['name'] 또는 product.name으로 객체의 요소에 접근할 수 있다.
- 객체의 키는 식별자 또는 문자열을 모두 사용할 수 있다.
- 대부분은 식별자를 키로 사용하지만, 식별자로 사용할 수 없는 경우는 문자열을 사용한다.

```javascript
var product = {
	'name a' : 'ABC',
	'value a' :'10000',
	'made a' : 'korea'
};
```

- 식별자가 아닌 문자를 키로 사용했을 때는 무조건 대괄호를 사용해야 객체의 요소에 접근할 수 있다.



6-2. 속성과 메서드

- 배열의 내부에 있는 값을 요소(element)라고 한다. 반면 객체의 내부에 있는 값은 속성(property)이라고 한다.
- 다른 프로그래밍 언어는 두가지 차이가 있지만 자바스크립트는 요소와 속성이 다르지 않다. 다른 프로그래밍 언어에서 사용하던 용어 습관이 자바 스크립트로 넘어와서 구분짓는 것이다.

```javascript
var object = {
	number : 123,
	string : 'AAA',
	boolean : true,
	array : [12,34,56],
	method : function(){}
};
```

- 객체의 속성 중 함수 자료형인 속성을 특별히 메서드라고 부른다. 

```javascript
var person = {
	name : '박창현',
	eat : function(food){}
};

persrion.eat();
```

- 메서드 내에서 자기 자신이 가진 속성을 출력하고 싶을 때는 자신이 가진 속성임을 분명하게 표시해야 한다.
- 자기 자신이 가진 속성이라는 것을 표시할 때는 this 키워드를 사용해야 한다.

```javascript
var person = {
	name : '박창현',
	eat : function(food){
		alert(this.name+"이"+food+'을 먹었다.');
	}
};

person.eat('chicken');

//박창현이chicken을 먹었다.
```



6-3. 객체와 반복문

- 배열은 단순 for반복문과 for in반복문으로 요소에 접근할 수 있다.
- 객체는 반드시 for in반복문을 사용해야 한다.

```javascript
var object = {
	number : 123,
	string : 'AAA',
	boolean : true,
	array : [12,34,56],
	method : function(){}
};

var result = '';

for(var key in object){
	result += key + ':' + object[key]+'\n';
}

alert(result);


/*
number:123,
string:AAA,
boolean:true,
array:12,34,56,
method:function(){}
*/
```



6-4. 객체 관련 키워드

- 겍체와 관련된 in키워드와 with키워드.

```javascript
var student = {
	이름 : '연하진',
	국어 : 92, 수학 : 98,
	영어 : 96, 과학 : 98
};
```



6-4-1. in키워드

- in키워드를 for키워드와 별도로 사용하면 해당 키가 객체 안에 있는지 확인 할 수 있다.

```javascript
var student = {
	이름 : '연하진',
	국어 : 92, 수학 : 98,
	영어 : 96, 과학 : 98
};

var result = '';

result += "'이름' in student: " + ('이름' in student) + '\n';
result += "'성별' in student: " + ('성별' in student);

alert(result);


//'이름'in student: true
//'성별'in student: false
```

- 이름은 속성이 존재하므로 true, 성별은 존재하지 않으므로 false를 출력한다.



6-4-2. with키워드

- with키워드는 복잡하게 사용해야 하는 코드를 짧게 줄여준다.

```javascript
var student = {
	이름 : '연하진',
	국어 : 92, 수학 : 98,
	영어 : 96, 과학 : 98
};

var result = '';

result += '이름: '+ student.이름 + '\n';
result += '국어: '+ student.국어 + '\n';
result += '수학: '+ student.수학 + '\n';
result += '영어: '+ student.영어 + '\n';
result += '과학: '+ student.과학 + '\n';
result += '총점: '+ (student.국어+student.수학+student.영어+student.과학);

alert(result);
```

```javascript
with(객체){
	코드
}
```

```javascript
var student = {
	이름 : '연하진',
	국어 : 92, 수학 : 98,
	영어 : 96, 과학 : 98
};

var result = '';
with(student){
	result += '이름: '+ 이름 + '\n';
	result += '국어: '+ 국어 + '\n';
	result += '수학: '+ 수학 + '\n';
	result += '영어: '+ 영어 + '\n';
	result += '과학: '+ 과학 + '\n';
	result += '총점: '+ (국어+수학+영어+과학);
}
alert(result);
```

- 만약 with키워드를 사용하는 객체의 속성 이름과 외부 변수의 이름이 같으면 충돌이 발생한다.
- 이 경우 자바스크립트는 객체의 속성을 우선한다. 

```javascript
var student = {
	이름 : '연하진',
	국어 : 92, 수학 : 98,
	영어 : 96, 과학 : 98,
	result: '이미 있다'
};

var result = '';
with(student){
	result += '이름: '+ 이름 + '\n';
	result += '국어: '+ 국어 + '\n';
	result += '수학: '+ 수학 + '\n';
	result += '영어: '+ 영어 + '\n';
	result += '과학: '+ 과학 + '\n';
	result += '총점: '+ (국어+수학+영어+과학);
}
alert(result);
```

- 이렇게 객체의 속성 이름과 외부 변수 이름이 같으면 with키워드 내부에 window객체의 result 변수를 사용하겠다고 지정해주어야 한다.

```javascript
var student = {
	이름 : '연하진',
	국어 : 92, 수학 : 98,
	영어 : 96, 과학 : 98
};

var result = '';
with(student){
	window.result += '이름: '+ 이름 + '\n';
	window.result += '국어: '+ 국어 + '\n';
	window.result += '수학: '+ 수학 + '\n';
	window.result += '영어: '+ 영어 + '\n';
	window.result += '과학: '+ 과학 + '\n';
	window.result += '총점: '+ (국어+수학+영어+과학);
}
alert(result);
```

- window 객체는 웹 브라우저에서 동작하는 자바스크립트의 최상위 객체이다.
- 웹 브라우저에서 동작하는 자바스크립의 모든 변수와 함수는 window 객체의 속성과 메서드이다.
- alert()함수도 window.alert() 메서드 형태로 사용할 수 있다.



6-5. 객체의 속성 추가와 제거

- 처음 객체를 생성하는 시점 이후에 속성을 추가하거나 제거하는 것을 "동적으로 속성을 추가한다" 또는 "동적으로 송성을 제거한다"라고 표현한다.



6-5-1. 속성 추가

```javascript
var student = {};

student.이름 = '윤인성';
student.취미 = '악기';
student.특기 = '프로그래밍';
student.장래희망 = '생명공학자';

//메서드도 속성이므로 추가할 수 있음.
student.toString = function(){
    var output = '';
    for(var key in this){
        if(key != 'toString'){
            output += key + '\t' + this[key] + '\n';
        }
    }
    return output;
};

alert(student.toString());
```

- 메서드도 속성이므로 추가할 수 있다. 



6-5.2. 속성 제거

- delete키워드를 사용한다.

```javascript
var student = {};

student.이름 = '윤인성';
student.취미 = '악기';
student.특기 = '프로그래밍';
student.장래희망 = '생명공학자';

//메서드도 속성이므로 추가할 수 있음.
student.toString = function(){
    var output = '';
    for(var key in this){
        if(key != 'toString'){
            output += key + '\t' + this[key] + '\n';
        }
    }
    return output;
};

alert(student.toString());

delete(student.장래희망);

alert(student.toString());
```



6-6. 객체와 배열을 사용한 데이터 관리

- 현실에 존재하는 객체의 필요한 속성을 추출하는 작업을 '추상화'라고 한다.

